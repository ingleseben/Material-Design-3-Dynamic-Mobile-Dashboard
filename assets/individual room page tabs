type: custom:simple-tabs
pre-load: true
active-background: var(--md-sys-color-tertiary)
active-text-color: var(--md-sys-color-on-tertiary)
text-color: var(--primary-text-color)
tabs:
  - title: Room
    icon: m3of:home
    card:
      type: vertical-stack
      cards:
        - type: horizontal-stack
          cards:
            - type: custom:streamline-card
              template: title_navigation_card
              variables:
                title: Lights
                navigation_path: "#other-lights-la"
            - type: custom:mushroom-chips-card
              chips:
                - type: template
                  icon: mdi:television
                  tap_action:
                    action: navigate
                    navigation_path: "#media-la"
              alignment: end
              card_mod:
                style: |
                  ha-card {
                    margin-top: 1.6em
                  }
        - type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: custom:material-slider-card
                  entity: light.lights_ktc
                  icon: m3of:lightbulb
                  show_percentage: true
                  bold_text: false
                  control_type: light
                - type: custom:material-slider-card
                  entity: light.lights_dt
                  icon: m3of:lightbulb
                  show_percentage: true
                  bold_text: false
                  control_type: light
            - type: horizontal-stack
              cards:
                - type: custom:material-button-card
                  use_default_icon: false
                  entity: switch.kitchen_cabinet_led
                  height: 97
                  control_type: generic
                  dual_icon: true
                  icon_on: mdi:led-strip-variant
                  icon_off: mdi:led-strip-variant-off
                - type: custom:material-button-card
                  use_default_icon: false
                  entity: switch.table_top_light
                  height: 97
                  control_type: generic
                  dual_icon: true
                  icon_on: mdi:countertop
                  icon_off: mdi:countertop-outline
            - type: horizontal-stack
              cards:
                - type: custom:material-button-card
                  use_default_icon: false
                  entity: switch.table_top_led
                  height: 97
                  control_type: generic
                  dual_icon: true
                  icon_on: mdi:led-strip-variant
                  icon_off: mdi:led-strip-variant-off
                - type: custom:material-slider-card
                  entity: light.lights_sofa
                  icon: m3of:lightbulb
                  show_percentage: true
                  bold_text: false
                  control_type: light
  - title: Climate
    icon: m3of:heat-pump
    card:
      type: vertical-stack
      cards:
        - type: horizontal-stack
          cards:
            - type: custom:streamline-card
              template: title_card
              variables:
                - title: Climate Control
            - type: custom:mushroom-chips-card
              chips:
                - type: conditional
                  conditions:
                    - condition: numeric_state
                      entity: sensor.climate_runtime_living_room
                      above: 0
                  chip:
                    type: template
                    entity: sensor.climate_runtime_living_room
                    icon: mdi:chart-areaspline
                    content: >-
                      {% set val = states('sensor.climate_runtime_living_room')
                      | float(0) %} {% set hours = val | int %} {% set minutes =
                      ((val - hours) * 60) | round(0) | int %} {{ hours }}h {{
                      minutes }}m
                - type: template
                  entity: sensor.living_area_humidity
                  icon: mdi:water-percent
                  content: >-
                    {% set hum = states('sensor.living_area_humidity') |
                    float(0) %} {{ hum }}% - {% if hum < 31 %}
                      Dry
                    {% elif hum < 51 %}
                      Good
                    {% else %}
                      Humid
                    {% endif %}
                  icon_color: >-
                    {% set hum = states('sensor.living_area_humidity') |
                    float(0) %} {% if hum < 31 %}
                      #99332d
                    {% elif hum < 51 %}
                      #228B22
                    {% else %}
                      #99332d
                    {% endif %}
              alignment: end
              card_mod:
                style: |
                  ha-card {
                    margin-top: 1.6em
                  }
        - type: custom:material-climate-card
          entity: climate.living_room
          increase_temp: 1
          decrease_temp: 1
          use_material_color: true
          use_default_icon: true
          fix_temperature: auto
          name: " "
  - title: Active
    icon: m3of:play-circle
    conditions:
      - template: >-
          {{ is_state('group.windows_la', 'on') or is_state('group.doors_la',
          'on')  or is_state('switch.rice_cooker_switch_ktc', 'on')}}
    card:
      type: vertical-stack
      cards:
        - type: custom:streamline-card
          template: open_doors_card
          variables:
            - title: Doors
            - door_1: binary_sensor.main_sliding_door_sensor_la_contact
            - door_2: binary_sensor.side_sliding_door_sensor_la_contact
        - type: custom:streamline-card
          template: open_windows_card
          variables:
            - title: Windows
            - window_1: binary_sensor.left_tv_window_sensor_la_contact
            - window_2: binary_sensor.right_tv_window_sensor_la_contact
            - window_3: binary_sensor.left_sofa_window_sensor_la_contact
            - window_4: binary_sensor.right_sofa_window_sensor_la_contact
        - type: conditional
          conditions:
            - condition: state
              entity: media_player.living_area_soundbar
              state: playing
          card:
            type: vertical-stack
            cards:
              - type: custom:streamline-card
                template: title_card
                variables:
                  - title: Speaker
              - type: custom:streamline-card
                template: media_player_card
                variables:
                  - entity: media_player.living_area_soundbar
                  - icon: m3of:play-circle
                  - tap_action: more-info
        - type: conditional
          conditions:
            - condition: or
              conditions:
                - condition: state
                  entity: switch.rice_cooker_switch_ktc
                  state: "on"
          card:
            type: custom:streamline-card
            template: title_card
            variables:
              - title: Switch
        - type: conditional
          conditions:
            - condition: state
              entity: switch.rice_cooker_switch_ktc
              state: "on"
          card:
            type: custom:material-button-card
            use_default_icon: false
            use_default_toggle: true
            use_default_text: true
            entity: switch.rice_cooker_switch_ktc
            icon: m3of:rice-bowl
            height: 97
            control_type: generic
